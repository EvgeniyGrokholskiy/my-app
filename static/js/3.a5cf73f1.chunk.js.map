{"version":3,"sources":["components/findUsers/userCard.module.css","components/findUsers/findUsers.module.css","components/findUsers/img/userUnknown.png","components/findUsers/pagination/pagination.js","components/findUsers/userCard.js","components/findUsers/findUsersContainer.js","components/findUsers/findUsers.js"],"names":["module","exports","Pagination","props","pagesCount","Math","ceil","totalUsers","usersOnPage","pagesArray","i","push","portionCount","pageSize","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","style","pageButtonsContainer","onClick","button","disabled","filter","page","map","onPageChanged","currentPage","pageButton","current","UserCard","cardContainer","findUsers","user","wrapper","avatar_container","photo","src","photos","small","alt","followed","isFollowingInProgress","some","id","setUnfollow","setFollow","to","linkToProfile","user_description","left_description","name","right_description","UsersContainer","getUsers","this","isFetching","React","Component","FindUsersContainer","connect","state","getFindUsersState","getCurrentPageState","getTotalUsersState","getUsersOnPageState","getIsFetchingState","getIsFollowingInProgressState","FindUsers","container","left_container","right_container"],"mappings":"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","file":"static/js/3.a5cf73f1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"userCard_wrapper__qlK2w\",\"cardContainer\":\"userCard_cardContainer__3Ltqk\",\"avatar_container\":\"userCard_avatar_container__3-lJp\",\"photo\":\"userCard_photo__2B0Av\",\"linkToProfile\":\"userCard_linkToProfile__302kE\",\"button\":\"userCard_button__2L2SE\",\"pageButton\":\"userCard_pageButton__-vIUq\",\"pageButtonsContainer\":\"userCard_pageButtonsContainer__1yFvc\",\"current\":\"userCard_current__2Ym1S\",\"user_description\":\"userCard_user_description__3zM9K\",\"left_description\":\"userCard_left_description__1Qgmb\",\"right_description\":\"userCard_right_description__32Z6O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"findUsers_container__3Oj3Y\",\"left_container\":\"findUsers_left_container__2VN6O\",\"right_container\":\"findUsers_right_container__MXmaC\"};","export default __webpack_public_path__ + \"static/media/userUnknown.16df309a.png\";","import React, {useState} from \"react\";\r\nimport style from \"../userCard.module.css\";\r\n\r\nconst Pagination = (props) => {\r\n\r\n    let pagesCount = Math.ceil(props.totalUsers / props.usersOnPage);\r\n    let pagesArray = [];\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pagesArray.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount/props.pageSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber -1) * props.pageSize +1;\r\n    let rightPortionPageNumber = portionNumber * props.pageSize;\r\n\r\n    return (\r\n        <div className={style.pageButtonsContainer}>\r\n            { portionNumber >= 1 &&\r\n                <button onClick={()=>{setPortionNumber(portionNumber - 1)}} className={style.button} disabled={portionNumber === 1}>Prev</button>\r\n            }\r\n            {\r\n                pagesArray.filter((page)=> page >= leftPortionPageNumber && page <= rightPortionPageNumber)\r\n                    .map((page) => {\r\n                    return (\r\n                        <button key={page} onClick={() => {\r\n                            props.onPageChanged(page)\r\n                        }}\r\n                                className={page === props.currentPage ? `${style.pageButton} ${style.current}` : style.pageButton}>{page}\r\n                        </button>\r\n                    )\r\n                })\r\n            }\r\n            { portionCount >= portionNumber &&\r\n                <button onClick={()=>{setPortionNumber(portionNumber + 1)}} className={style.button} disabled={portionNumber === portionCount}>Next</button>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Pagination;","import React from \"react\";\r\nimport style from \"./userCard.module.css\";\r\nimport photo from \"./img/userUnknown.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Pagination from \"./pagination/pagination\";\r\n\r\n\r\nconst UserCard = (props) => {\r\n\r\n    return (\r\n\r\n        <div className={style.cardContainer}>\r\n\r\n\r\n            <Pagination onPageChanged={props.onPageChanged}\r\n                        totalUsers={props.totalUsers}\r\n                        usersOnPage={props.usersOnPage}\r\n                        currentPage={props.currentPage}\r\n                        pageSize={10}\r\n            />\r\n\r\n            {\r\n                props.findUsers.map((user) => {\r\n\r\n                    const toUnfollow = () => {\r\n                        props.setUnfollow(user.id, false);\r\n                    }\r\n\r\n                    const toFollow = () => {\r\n                        props.setFollow(user.id, true);\r\n                    }\r\n\r\n\r\n                    return (\r\n\r\n                        <div key={user.id} className={style.wrapper}>\r\n\r\n                            <div className={style.avatar_container}>\r\n                                <img className={style.photo}\r\n                                     src={user.photos.small !== null ? user.photos.small : photo} alt=\"\"/>\r\n                                {(user.followed) ?\r\n                                    <button disabled={props.isFollowingInProgress.some(id => id === user.id)} onClick={toUnfollow} className={style.button} >Unfollow</button> :\r\n                                    <button disabled={props.isFollowingInProgress.some(id => id === user.id)} onClick={toFollow} className={style.button}>Follow</button>}\r\n                                <NavLink to={`/profile/${user.id}`} className={style.linkToProfile}>Open\r\n                                    Profile</NavLink>\r\n                            </div>\r\n\r\n                            <div className={style.user_description}>\r\n\r\n                                <div className={style.left_description}>\r\n                                    <h3>{user.name}</h3>\r\n                                    <p>{\"props.user.status\"}</p>\r\n                                </div>\r\n\r\n                                <div className={style.right_description}>\r\n                                    <p>{\"props.user.location.country\"},</p>\r\n                                    <p>{\"props.user.location.city\"}</p>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n            {/*<button className={style.buttonSM}>Show more</button>*/}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserCard;","import {connect} from \"react-redux\";\r\nimport {getUsers, setFollow, setUnfollow} from \"../../redux/findUsersReducer\";\r\nimport React from \"react\";\r\nimport UserCard from \"./userCard\";\r\nimport Loading from \"../commons/loading/loading\";\r\nimport {\r\n    getCurrentPageState,\r\n    getFindUsersState,\r\n    getIsFetchingState,\r\n    getIsFollowingInProgressState,\r\n    getTotalUsersState,\r\n    getUsersOnPageState\r\n} from \"../../redux/selectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    onPageChanged = (page) => {\r\n        this.props.getUsers(page, this.props.usersOnPage);\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.usersOnPage);\r\n    }\r\n\r\n\r\n    render() {\r\n        const {\r\n            totalUsers, usersOnPage, currentPage, findUsers, isFollowingInProgress,\r\n            setUnfollow, setFollow\r\n        } = this.props\r\n        return (\r\n            <>\r\n                {this.props.isFetching ? <Loading/> : <></>}\r\n                <UserCard totalUsers={totalUsers}\r\n                          usersOnPage={usersOnPage}\r\n                          currentPage={currentPage}\r\n                          findUsers={findUsers}\r\n                          onPageChanged={this.onPageChanged}\r\n                          isFollowingInProgress={isFollowingInProgress}\r\n                          setUnfollow={setUnfollow}\r\n                          setFollow={setFollow}\r\n                />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return (\r\n        {\r\n            //findUsers: getFindUsersStateRESELECT(state), используется при использовании сложной логики в селекторе, что бы оптимизировать рендеринг\r\n            findUsers: getFindUsersState(state),\r\n            currentPage: getCurrentPageState(state),\r\n            totalUsers: getTotalUsersState(state),\r\n            usersOnPage: getUsersOnPageState(state),\r\n            isFetching: getIsFetchingState(state),\r\n            isFollowingInProgress: getIsFollowingInProgressState(state),\r\n        }\r\n    )\r\n\r\n}\r\n\r\nconst FindUsersContainer = connect(mapStateToProps, {\r\n    getUsers,\r\n    setUnfollow,\r\n    setFollow,\r\n})(UsersContainer)\r\n\r\nexport default FindUsersContainer;","import React from \"react\";\r\nimport style from \"./findUsers.module.css\";\r\nimport FriendsListContainer from \"../profile/profileContainer/friendsList/friendsListContainer\";\r\nimport FindUsersContainer from \"./findUsersContainer\";\r\n\r\nconst FindUsers = (props)=> {\r\n    return (\r\n        <div className={style.container}>\r\n            <div className={style.left_container}>\r\n                <FindUsersContainer />\r\n            </div>\r\n            <div className={style.right_container}>\r\n                <FriendsListContainer />\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default FindUsers"],"sourceRoot":""}