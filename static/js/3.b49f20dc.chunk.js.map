{"version":3,"sources":["components/findUsers/userCard.module.css","components/findUsers/findUsers.module.css","components/findUsers/img/userUnknown.png","components/findUsers/pagination/pagination.js","components/findUsers/userCard.js","components/findUsers/findUsersContainer.js","components/findUsers/findUsers.js"],"names":["module","exports","Pagination","props","pagesCount","Math","ceil","totalUsers","usersOnPage","pagesArray","i","push","portionCount","pageSize","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","style","pageButtonsContainer","onClick","button","disabled","filter","page","map","onPageChanged","currentPage","pageButton","current","UserCard","React","memo","console","log","cardContainer","findUsers","user","wrapper","avatar_container","photo","src","photos","small","alt","followed","isFollowingInProgress","some","id","setUnfollow","setFollow","to","linkToProfile","user_description","left_description","name","right_description","prevProps","nextProps","UsersContainer","getUsers","this","nextState","nextContext","isFetching","Component","FindUsersContainer","connect","state","getFindUsersState","getCurrentPageState","getTotalUsersState","getUsersOnPageState","getIsFetchingState","getIsFollowingInProgressState","FindUsers","container","left_container","right_container"],"mappings":"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","file":"static/js/3.b49f20dc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"userCard_wrapper__qlK2w\",\"cardContainer\":\"userCard_cardContainer__3Ltqk\",\"avatar_container\":\"userCard_avatar_container__3-lJp\",\"photo\":\"userCard_photo__2B0Av\",\"linkToProfile\":\"userCard_linkToProfile__302kE\",\"button\":\"userCard_button__2L2SE\",\"pageButton\":\"userCard_pageButton__-vIUq\",\"pageButtonsContainer\":\"userCard_pageButtonsContainer__1yFvc\",\"current\":\"userCard_current__2Ym1S\",\"user_description\":\"userCard_user_description__3zM9K\",\"left_description\":\"userCard_left_description__1Qgmb\",\"right_description\":\"userCard_right_description__32Z6O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"findUsers_container__3Oj3Y\",\"left_container\":\"findUsers_left_container__2VN6O\",\"right_container\":\"findUsers_right_container__MXmaC\"};","export default __webpack_public_path__ + \"static/media/userUnknown.16df309a.png\";","import React, {useState} from \"react\";\r\nimport style from \"../userCard.module.css\";\r\n\r\nconst Pagination = (props) => {\r\n\r\n    let pagesCount = Math.ceil(props.totalUsers / props.usersOnPage);\r\n    let pagesArray = [];\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pagesArray.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount/props.pageSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber -1) * props.pageSize +1;\r\n    let rightPortionPageNumber = portionNumber * props.pageSize;\r\n\r\n    return (\r\n        <div className={style.pageButtonsContainer}>\r\n            { portionNumber >= 1 &&\r\n                <button onClick={()=>{setPortionNumber(portionNumber - 1)}} className={style.button} disabled={portionNumber === 1}>Prev pages</button>\r\n            }\r\n            {\r\n                pagesArray.filter((page)=> page >= leftPortionPageNumber && page <= rightPortionPageNumber)\r\n                    .map((page) => {\r\n                    return (\r\n                        <button key={page} onClick={() => {\r\n                            props.onPageChanged(page)\r\n                        }}\r\n                                className={page === props.currentPage ? `${style.pageButton} ${style.current}` : style.pageButton}>{page}\r\n                        </button>\r\n                    )\r\n                })\r\n            }\r\n            { portionCount >= portionNumber &&\r\n                <button onClick={()=>{setPortionNumber(portionNumber + 1)}} className={style.button} disabled={portionNumber === portionCount}>Next pages</button>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Pagination;","import React from \"react\";\r\nimport style from \"./userCard.module.css\";\r\nimport photo from \"./img/userUnknown.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Pagination from \"./pagination/pagination\";\r\n\r\n\r\nconst UserCard = React.memo((props) => {\r\n    console.log(\"USER_CARD\")\r\n    return (\r\n\r\n        <div className={style.cardContainer}>\r\n\r\n            <Pagination onPageChanged={props.onPageChanged}\r\n                        totalUsers={props.totalUsers}\r\n                        usersOnPage={props.usersOnPage}\r\n                        currentPage={props.currentPage}\r\n                        pageSize={10}\r\n            />\r\n\r\n            {\r\n                props.findUsers.map((user) => {\r\n\r\n                    const toUnfollow = () => {\r\n                        props.setUnfollow(user.id, false);\r\n                    }\r\n\r\n                    const toFollow = () => {\r\n                        props.setFollow(user.id, true);\r\n                    }\r\n\r\n                    return (\r\n\r\n                        <div key={user.id} className={style.wrapper}>\r\n\r\n                            <div className={style.avatar_container}>\r\n                                <img className={style.photo}\r\n                                     src={user.photos.small !== null ? user.photos.small : photo} alt=\"\"/>\r\n                                {(user.followed) ?\r\n                                    <button disabled={props.isFollowingInProgress.some(id => id === user.id)} onClick={toUnfollow} className={style.button} >Unfollow</button> :\r\n                                    <button disabled={props.isFollowingInProgress.some(id => id === user.id)} onClick={toFollow} className={style.button}>Follow</button>}\r\n                                <NavLink to={`/profile/${user.id}`} className={style.linkToProfile}>Open\r\n                                    Profile</NavLink>\r\n                            </div>\r\n\r\n                            <div className={style.user_description}>\r\n\r\n                                <div className={style.left_description}>\r\n                                    <h3>{user.name}</h3>\r\n                                    <p>{\"props.user.status\"}</p>\r\n                                </div>\r\n\r\n                                <div className={style.right_description}>\r\n                                    <p>{\"props.user.location.country\"},</p>\r\n                                    <p>{\"props.user.location.city\"}</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}, function isEqual(prevProps, nextProps){\r\n    return prevProps === nextProps;\r\n})\r\n\r\nexport default UserCard;","import {connect} from \"react-redux\";\r\nimport {getUsers, setFollow, setUnfollow} from \"../../redux/findUsersReducer\";\r\nimport React from \"react\";\r\nimport UserCard from \"./userCard\";\r\nimport Loading from \"../commons/loading/loading\";\r\nimport {\r\n    getCurrentPageState,\r\n    getFindUsersState,\r\n    getIsFetchingState,\r\n    getIsFollowingInProgressState,\r\n    getTotalUsersState,\r\n    getUsersOnPageState\r\n} from \"../../redux/selectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    onPageChanged = (page) => {\r\n        this.props.getUsers(page, this.props.usersOnPage);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.usersOnPage);\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        return this.props !== nextProps;\r\n    }\r\n\r\n    render() {\r\n        console.log(\"render FU\");\r\n\r\n        return (\r\n            <>\r\n                {this.props.isFetching ? <Loading/> :<></>}\r\n                <UserCard {...this.props} onPageChanged={this.onPageChanged}/>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return (\r\n        {\r\n            //findUsers: getFindUsersStateRESELECT(state), используется при использовании сложной логики в селекторе, что бы оптимизировать рендеринг\r\n            findUsers: getFindUsersState(state),\r\n            currentPage: getCurrentPageState(state),\r\n            totalUsers: getTotalUsersState(state),\r\n            usersOnPage: getUsersOnPageState(state),\r\n            isFetching: getIsFetchingState(state),\r\n            isFollowingInProgress: getIsFollowingInProgressState(state),\r\n        }\r\n    )\r\n}\r\n\r\nconst FindUsersContainer = connect(mapStateToProps, {\r\n    getUsers,\r\n    setUnfollow,\r\n    setFollow,\r\n})(UsersContainer)\r\n\r\nexport default FindUsersContainer;","import React from \"react\";\r\nimport style from \"./findUsers.module.css\";\r\nimport FriendsListContainer from \"../profile/profileContainer/friendsList/friendsListContainer\";\r\nimport FindUsersContainer from \"./findUsersContainer\";\r\n\r\nconst FindUsers = (props)=> {\r\n    return (\r\n        <div className={style.container}>\r\n            <div className={style.left_container}>\r\n                <FindUsersContainer />\r\n            </div>\r\n            <div className={style.right_container}>\r\n                <FriendsListContainer />\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default FindUsers"],"sourceRoot":""}